<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Mapa Mundi com SVGs</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
    }
    #map-container {
      position: relative;
      width: 100%;
      max-width: 1200px; /* Ajuste conforme necessário */
      margin: 0 auto;
      background-image: url('/mnt/data/mmmy3zyj9m691.png'); /* Substitua pelo caminho da sua imagem de mapa */
      background-size: cover;
      height: 100%;
      cursor: crosshair;
    }
    .svg-icon {
      position: absolute;
      cursor: pointer;
    }
    #coordinates {
      margin-top: 20px;
      font-size: 16px;
      font-family: Arial, sans-serif;
    }
    #info {
      position: fixed;
      top: 10px;
      left: 10px;
      background-color: rgba(255, 255, 255, 0.8);
      padding: 10px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <div id="map-container"></div>
  <div id="coordinates">Clique no mapa para ver a posição (x, y).</div>
  <div id="info">
    <h2>Informações</h2>
    <p>Tamanho da página: <span id="page-size"></span></p>
    <p>Tamanho do contêiner do mapa: <span id="container-size"></span></p>
    <p>Tamanho do Alaska (imagem): <span id="alaska-size"></span></p>
    <p>Altura do Alaska: <span id="alaska-height"></span></p>
    <p>Largura do Alaska: <span id="alaska-width"></span></p>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      var svgData = [
        { url: "/IMAGE/Alaska.svg", x: 6.5, y: 11 }
      ];

      // Função para carregar e adicionar SVGs ao DOM
      function loadAndAddSVGs(data, container) {
        data.forEach(function(item) {
          fetch(item.url)
            .then(response => response.text())
            .then(svgContent => {
              var svgWrapper = document.createElement("div");
              svgWrapper.classList.add("svg-icon");
              svgWrapper.style.left = item.x + "%";
              svgWrapper.style.top = item.y + "%";
              
              // Criar imagem para calcular o tamanho real
              var img = new Image();
              img.src = item.url;
              img.onload = function() {
                var containerWidth = container.offsetWidth;
                var scaleFactor = containerWidth / img.width;
                var svgWidth = img.width * scaleFactor;
                var svgHeight = img.height * scaleFactor;
                svgWrapper.style.width = svgWidth + "px";
                svgWrapper.style.height = svgHeight + "px";
                
                // Atualizar informações sobre o tamanho do Alaska
                document.getElementById("alaska-size").textContent = svgWidth.toFixed(2) + "px x " + svgHeight.toFixed(2) + "px";
                document.getElementById("alaska-height").textContent = svgHeight.toFixed(2) + "px";
                document.getElementById("alaska-width").textContent = svgWidth.toFixed(2) + "px";
              };
              
              svgWrapper.innerHTML = svgContent;
              container.appendChild(svgWrapper);
            })
            .catch(error => console.error('Erro ao carregar o SVG:', error));
        });
      }

      // Adiciona o evento de clique para mostrar as coordenadas
      function addClickEvent(container, coordinatesElement) {
        container.addEventListener("click", function(event) {
          var rect = container.getBoundingClientRect();
          var x = event.clientX - rect.left;
          var y = event.clientY - rect.top;
          coordinatesElement.textContent = "Posição clicada: (" + x + "px, " + y + "px)";
        });
      }

      // Atualizar informações sobre o tamanho da página
      document.getElementById("page-size").textContent = window.innerWidth + "x" + window.innerHeight;

      // Chama a função para carregar e adicionar SVGs ao contêiner
      var mapContainer = document.getElementById("map-container");
      var coordinatesElement = document.getElementById("coordinates");
      
      if (mapContainer && coordinatesElement) {
        loadAndAddSVGs(svgData, mapContainer);
        addClickEvent(mapContainer, coordinatesElement);
      } else {
        console.error("Elemento 'map-container' ou 'coordinates' não encontrado no DOM.");
      }

      // Atualizar informações sobre o tamanho do contêiner do mapa após o carregamento completo da página
      window.addEventListener("load", function() {
        document.getElementById("container-size").textContent = mapContainer.offsetWidth + "x" + mapContainer.offsetHeight;
      });
    });
  </script>
</body>
</html>
